(function(a){a.fn.browserWrapper=function(b){var c={browserTitle:"Your Awesome Title",browserURL:"http://your.awesome.url.com",favicon:"http://browserwrapper.molovo.co.uk/img/favicon.png",filePath:"browserWrapper/src/",shadow:"0px 5px 15px rgba(0,0,0,0.3)",os:"mac",browser:"chrome"},b=a.extend(c,b),d=a(this);a(".browser-gui"),a(".browser-window-border"),a(".browser-gui .address-bar"),d.height(),d.width();var j=d.html();if("detect"==c.os||"detect"==c.browser){var k={init:function(){this.browser=this.searchString(this.dataBrowser)||"chrome",this.OS=this.searchString(this.dataOS)||"mac"},searchString:function(a){for(var b=0;a.length>b;b++){var c=a[b].string,d=a[b].prop;if(this.versionSearchString=a[b].versionSearch||a[b].identity,c){if(-1!=c.indexOf(a[b].subString))return a[b].identity}else if(d)return a[b].identity}},dataBrowser:[{string:navigator.userAgent,subString:"Chrome",identity:"chrome"},{string:navigator.userAgent,subString:"Firefox",identity:"firefox"}],dataOS:[{string:navigator.platform,subString:"Win",identity:"windows"},{string:navigator.platform,subString:"Mac",identity:"mac"}]};k.init(),"detect"==c.os&&(c.os=k.OS),"detect"==c.browser&&(c.browser=k.browser)}if("mac"==c.os)var l='<img class="window-button red" src="'+c.filePath+'img/red-button.png" /><img class="window-button yellow" src="'+c.filePath+'img/yellow-button.png" /><img class="window-button green" src="'+c.filePath+'img/green-button.png" />';else if("windows"==c.os)var l='<img class="window-button" src="'+c.filePath+'img/windows-buttons.png" />';var m='<span class="tab '+c.browser+'"><span class="tab-wrapper"><img class="favicon" src="'+c.favicon+'" /><span class="tabtext">'+c.browserTitle+"</span></span></span>",n='<div class="browser-gui-controls '+c.browser+'"><img class="nav-buttons" src="'+c.filePath+"img/"+c.browser+'-nav-buttons.png" /><span class="address-bar notsearch">';"chrome"==c.browser&&(n+='<img class="address-bar-icon" src="'+c.filePath+'img/address-bar-icon.png" />'),n+='<span class="address-bar-text">'+c.browserURL+"</span>",n+="chrome"==c.browser?'<img class="address-bar-bookmark" src="'+c.filePath+"img/"+c.browser+'-address-bar-bookmark.png" /></span><img class="nav-button-settings" src="'+c.filePath+'img/nav-button-settings.png" />':"firefox"==c.browser?'<img class="address-bar-bookmark" src="'+c.filePath+"img/"+c.browser+'-address-bar-bookmark.png" /></span><span class="address-bar firefox-google-search"><img class="address-bar-icon" src="'+c.filePath+'img/google-search-icon.png" /><span class="address-bar-text">Search Google</span></span>':"</span>",n+="</div>";var o='<div class="browser-window-controls '+c.os+" "+c.browser+'">'+l+m+"</div>";d.html('<div class="browser-window-border '+c.os+" "+c.browser+'" style="box-shadow:'+c.shadow+'">'+o+'<div class="browser-gui '+c.browser+'">'+n+j+"</div></div>").trigger("refresh")}})(jQuery);